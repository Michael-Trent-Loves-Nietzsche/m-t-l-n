<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Variation</title>
  </head>
  <body>
    <h1>What are you likely to win when you gamble?</h1>

    <p>
      The chance of winning affects the max and min losses or payout you can
      expect.
    </p>

    <button onclick="myFunction1()">
      What's the probability of winning with each bet?
    </button>
    <button onclick="myFunction2()">
      What is the stake with each bet in $?
    </button>
    <button onclick="myFunction3()">
      How much do you get if you win the bet (including the initial stake)?
    </button>
    <button onclick="myFunction4()">How many bets will you make?</button>

    <p id="demo"></p>

    <script>
      function myFunction1() {
        let chance = prompt(
          "What's the probability of winning with each bet?",
          "0.45"
        );

        let stake = prompt("What is the stake with each bet in $?", "1");

        let winning = prompt(
          "How much do you get if you win the bet (including the initial stake)",
          "2"
        );

        let numberBets = prompt("How many bets will you make?", "100");

        averageReturn = (winning - stake) * chance + (1 - chance) * -stake;
        averageReturnTotal = averageReturn * numberBets;
        squaredDistanceA =
          ((winning - stake) * numberBets - averageReturn * numberBets) ** 2;
        let squaredDistanceB =
          (-(stake * numberBets) - averageReturn * numberBets) ** 2;
        averageSquaredDistance =
          chance * squaredDistanceA + (1 - chance) * squaredDistanceB;
        stdDev = averageSquaredDistance ** 0.5;
        sqrtNumberBets = numberBets ** 0.5;
        variance = (1.96 * stdDev) / sqrtNumberBets;

        if (chance != null)
          document.getElementById("demo").innerHTML =
            "On average you will win " +
            (averageReturn * numberBets).toFixed(2) +
            " $ but 95% of the time with " +
            numberBets +
            " bets, your winnings will be between " +
            (averageReturnTotal - variance).toFixed(2) +
            " $ and " +
            (averageReturnTotal + variance).toFixed(2) +
            " $. The average win per bet is " +
            averageReturn.toFixed(4) +
            " $.";
      }
    </script>
    <a href="index.html">Home</a>
  </body>
</html>
